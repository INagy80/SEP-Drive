<app-header></app-header>


<!-- Navbar -->
<div class="navbar">
  <div class="gap-6 navbar" style="width: 50vw; justify-content: space-around;
  align-items: center; right: 25vw; left: 25vw; position: absolute">

    <p-button (click)="logout()" class="nav-item">
      <div class="icons gap-2">
        <p style="font-size: 1.1rem">Abmelden</p>
        <img src="/assets/icons/exit.png">
      </div>
    </p-button>

    <p-button (click)="fahrtangebote()" class="nav-item">
      <div class="icons gap-2">
        <p>FahrtAngebote</p>
        <img src="/assets/icons/fahrtangebote.png">
      </div>
    </p-button>

    <p-button (click)="startseite()" class="nav-item">
      <div class="icons gap-2">
        <p>Startseite</p>
        <img src="/assets/icons/home.png">
      </div>
    </p-button>

  </div>
</div>


<div class="chat-container">
  <h2 class="chat-title">Chat</h2>

  <div class="messages">
    <div
      *ngFor="let msg of messages"
      [ngClass]="{
        'message-row': true,
        'from-current-user': msg.fromCurrentUser,
        'from-other-user': !msg.fromCurrentUser
      }"
    >
      <img class="avatar" src="assets/avatar-placeholder.png" alt="Avatar">
      <div class="bubble">
        <p>{{ msg.content }}</p>
      </div>

      <!-- ✅ HIER Buttons korrekt -->
      <div class="actions" *ngIf="msg.fromCurrentUser">
        <button (click)="editMessage(msg)">Bearbeiten</button>
        <button (click)="deleteMessage(msg)">Löschen</button>
      </div>
    </div>
  </div>

  <div class="input-row">
    <input
      type="text"
      placeholder="Nachricht eingeben"
      [(ngModel)]="newMessage"
      (keyup.enter)="sendMessage()"
    />
    <button (click)="sendMessage()">Senden</button>
  </div>
</div>
